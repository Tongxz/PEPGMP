/* === 统一设计系统 === */

/* AI 系统前端色彩规范 V3.0 - 专业现代配色 */
:root {
    /* 主色体系 */
    --primary: #3A7AFE;
    /* 主色（品牌色，核心按钮/高亮） */
    --primary-light: #E8F1FE;
    /* 主色浅色（hover/浅背景） */
    --primary-dark: #2D62D8;
    /* 主色深色（active/深背景） */

    /* 辅助色体系 */
    --secondary: #FF7A45;
    /* 辅助色（局部强调/次要按钮） */
    --secondary-light: #FFF1E6;
    /* 辅助色浅色 */
    --secondary-dark: #D85A2D;
    /* 辅助色深色 */

    /* 状态色 */
    --success: #52C41A;
    /* 成功绿 */
    --warning: #FAAD14;
    /* 警告琥珀黄 */
    --error: #FF4D4F;
    /* 错误红 */
    --info: #1890FF;
    /* 信息蓝 */

    /* 中性色（背景 & 文本） */
    --white: #FFFFFF;
    /* 卡片背景 */
    --bg-primary: #F7F8FA;
    /* 主背景（页面底色） */
    --border-color: #E5E6EB;
    /* 分割线/边框 */

    /* 文本色 */
    --text-primary: #1D1F23;
    /* 主文本（标题/正文） */
    --text-secondary: #4E5969;
    /* 次要文本（说明/次级信息） */
    --text-placeholder: #86909C;
    /* 占位符文本 */

    /* 特殊用色 */
    --highlight: #722ED1;
    /* 强调色（少量标签/图表强调） */
    --shadow: rgba(0, 0, 0, 0.08);
    /* 阴影 */

    /* 间距系统 */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-16: 64px;

    /* 圆角系统 */
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;

    /* 阴影系统 */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);

    /* 响应式断点 */
    --breakpoint-sm: 640px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 1024px;
    --breakpoint-xl: 1280px;
}

/* === 全局重置 === */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 14px;
    line-height: 1.5;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
    color: var(--text-primary);
    background: var(--bg-primary);
    min-height: 100vh;
}

/* === 布局系统 === */

/* 主容器 */
.layout-container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--space-4);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* 页面头部 */
.layout-header {
    background: var(--text-primary);
    color: var(--white);
    padding: var(--space-6) var(--space-8);
    border-radius: var(--radius-lg);
    text-align: center;
    margin-bottom: var(--space-6);
}

.layout-header h1 {
    font-size: 1.75rem;
    font-weight: 600;
    margin-bottom: var(--space-2);
}

.layout-header p {
    font-size: 0.95rem;
    opacity: 0.9;
}

/* 页面内容区 */
.layout-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
}

/* 栅格系统 */
.grid {
    display: grid;
    gap: var(--space-4);
    width: 100%;
}

.grid-cols-1 {
    grid-template-columns: 1fr;
}

.grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
}

.grid-cols-3 {
    grid-template-columns: repeat(3, 1fr);
}

.grid-cols-4 {
    grid-template-columns: repeat(4, 1fr);
}

/* 确保栅格项目正确填充 */
.grid>* {
    min-width: 0;
}

/* 响应式栅格 */
@media (min-width: 768px) {
    .md\:grid-cols-2 {
        grid-template-columns: repeat(2, 1fr);
    }

    .md\:grid-cols-3 {
        grid-template-columns: repeat(3, 1fr);
    }

    .md\:grid-cols-4 {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (min-width: 1024px) {
    .lg\:grid-cols-2 {
        grid-template-columns: repeat(2, 1fr);
    }

    .lg\:grid-cols-3 {
        grid-template-columns: repeat(3, 1fr);
    }

    .lg\:grid-cols-4 {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Flex 布局 */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.flex-wrap {
    flex-wrap: wrap;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.justify-between {
    justify-content: space-between;
}

.gap-2 {
    gap: var(--space-2);
}

.gap-3 {
    gap: var(--space-3);
}

.gap-4 {
    gap: var(--space-4);
}

.gap-6 {
    gap: var(--space-6);
}

/* === 组件系统 === */

/* 卡片 */
.card {
    background: var(--white);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    box-shadow: var(--shadow-sm);
    min-width: 0;
    /* 防止内容溢出 */
}

.card-compact {
    padding: var(--space-4);
}

.card-header {
    margin-bottom: var(--space-4);
    padding-bottom: var(--space-3);
    border-bottom: 1px solid var(--gray-200);
}

.card-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
}

/* 按钮系统 */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-2) var(--space-4);
    border: none;
    border-radius: var(--radius-md);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 80px;
    white-space: nowrap;
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-primary {
    background: var(--primary);
    color: var(--white);
}

.btn-primary:hover:not(:disabled) {
    background: var(--primary-dark);
}

.btn-secondary {
    background: var(--secondary);
    color: var(--white);
}

.btn-secondary:hover:not(:disabled) {
    background: var(--secondary-dark);
}

.btn-danger {
    background: var(--error);
    color: var(--white);
}

.btn-danger:hover:not(:disabled) {
    background: #D8393B;
}

.btn-success {
    background: var(--success);
    color: var(--white);
}

.btn-success:hover:not(:disabled) {
    background: #3E9B1C;
}

.btn-sm {
    padding: var(--space-1) var(--space-3);
    font-size: 0.8rem;
    min-width: 60px;
}

.btn-lg {
    padding: var(--space-3) var(--space-6);
    font-size: 1rem;
    min-width: 120px;
}

/* 表格系统 */
.table-container {
    background: var(--white);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-color);
    overflow-x: auto;
    /* 水平滚动保护 */
}

.table {
    width: 100%;
    border-collapse: collapse;
    min-width: 700px;
    /* 防止过度压缩 */
}

.table th,
.table td {
    padding: var(--space-3) var(--space-4);
    text-align: left;
    border-bottom: 1px solid var(--gray-200);
}

.table th {
    background: var(--gray-50);
    font-weight: 600;
    color: var(--gray-700);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.table tbody tr:hover {
    background: var(--gray-50);
}

.table tbody tr:last-child td {
    border-bottom: none;
}

/* 表单系统 */
.form-group {
    margin-bottom: var(--space-4);
}

.form-label {
    display: block;
    font-weight: 500;
    color: var(--gray-700);
    margin-bottom: var(--space-2);
    font-size: 0.9rem;
}

.form-input,
.form-select,
.form-textarea {
    width: 100%;
    max-width: 100%;
    padding: var(--space-3);
    border: 1px solid var(--gray-300);
    border-radius: var(--radius-md);
    font-size: 0.9rem;
    transition: border-color 0.2s ease;
    box-sizing: border-box;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(0, 92, 180, 0.1);
}

/* 状态徽标 */
.badge {
    display: inline-flex;
    align-items: center;
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.badge-success {
    background: #E8F5E8;
    color: #2D7A13;
}

.badge-warning {
    background: #FFF7E6;
    color: #B8850A;
}

.badge-error {
    background: #FFE6E6;
    color: #C73E3F;
}

.badge-info {
    background: #E6F2FF;
    color: #1266CC;
}

.badge-gray {
    background: var(--gray-200);
    color: var(--gray-700);
}

/* 标签页 */
.tabs {
    border-bottom: 1px solid var(--gray-200);
    margin-bottom: var(--space-6);
}

.tabs-nav {
    display: flex;
    gap: 0;
}

.tabs-tab {
    padding: var(--space-3) var(--space-4);
    border: none;
    background: none;
    color: var(--gray-600);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    transition: all 0.2s ease;
    font-weight: 500;
}

.tabs-tab:hover {
    color: var(--primary);
}

.tabs-tab.active {
    color: var(--primary);
    border-bottom-color: var(--primary);
}

.tabs-content {
    display: none;
}

.tabs-content.active {
    display: block;
}

/* 导航栏样式由 nav.css 统一管理 */

/* 响应式适配 */
@media (max-width: 767px) {
    .layout-container {
        padding: var(--space-3);
    }

    .layout-header {
        padding: var(--space-4);
    }

    .layout-header h1 {
        font-size: 1.5rem;
    }

    .card {
        padding: var(--space-4);
    }

    .grid-cols-2,
    .grid-cols-3,
    .grid-cols-4 {
        grid-template-columns: 1fr;
    }

    .table-container {
        overflow-x: auto;
    }

    .flex {
        flex-wrap: wrap;
    }

    .btn {
        width: 100%;
        margin-bottom: var(--space-2);
    }
}

/* 大屏优化 */
@media (min-width: 1024px) {
    .layout-container {
        padding: var(--space-6);
    }

    .layout-content {
        gap: var(--space-8);
    }
}

/* 超大屏布局控制 */
@media (min-width: 1280px) {

    /* 确保双栏布局的精确控制 */
    .xl\:w-80 {
        width: 320px !important;
        flex-shrink: 0;
    }

    .xl\:flex-1 {
        flex: 1 1 0% !important;
        min-width: 0;
    }

    .xl\:flex-none {
        flex: none !important;
    }

    .xl\:flex-row {
        flex-direction: row !important;
    }

    .xl\:min-w-0 {
        min-width: 0 !important;
    }
}

/* 实用类 */
.w-full {
    width: 100%;
}

.w-auto {
    width: auto;
}

.max-w-full {
    max-width: 100%;
}

.max-w-xs {
    max-width: 20rem;
}

.max-w-sm {
    max-width: 24rem;
}

.max-w-md {
    max-width: 28rem;
}

.max-w-lg {
    max-width: 32rem;
}

.flex-1 {
    flex: 1;
}

.flex-none {
    flex: none;
}

.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.font-semibold {
    font-weight: 600;
}

.font-bold {
    font-weight: 700;
}

.text-sm {
    font-size: 0.85rem;
}

.text-lg {
    font-size: 1.1rem;
}

.text-xl {
    font-size: 1.25rem;
}

.text-gray-600 {
    color: var(--gray-600);
}

.text-gray-700 {
    color: var(--gray-700);
}

.bg-gray-50 {
    background: var(--gray-50);
}

.border-b {
    border-bottom: 1px solid var(--gray-200);
}

.mb-4 {
    margin-bottom: var(--space-4);
}

.mt-4 {
    margin-top: var(--space-4);
}

.p-4 {
    padding: var(--space-4);
}

.px-4 {
    padding-left: var(--space-4);
    padding-right: var(--space-4);
}

.py-4 {
    padding-top: var(--space-4);
    padding-bottom: var(--space-4);
}

.min-w-0 {
    min-width: 0;
}

.overflow-hidden {
    overflow: hidden;
}

.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* 摄像头配置页面专用布局 */
.camera-layout {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
}

.camera-form-section {
    width: 100%;
}

.camera-table-section {
    width: 100%;
}

/* 大屏幕下的双栏布局 */
@media (min-width: 1280px) {
    .camera-layout {
        flex-direction: row;
        align-items: stretch;
        /* 改为stretch使两列等高 */
    }

    .camera-form-section {
        width: 320px;
        flex-shrink: 0;
    }

    .camera-table-section {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
    }

    /* 右侧卡片占满高度 */
    .camera-table-section .card {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-height: 0;
    }

    /* 表格容器可滚动 */
    .camera-table-section .table-container {
        flex: 1;
        overflow-y: auto;
        max-height: calc(100vh - 300px);
        /* 预留导航和页脚空间 */
        min-height: 400px;
        /* 最小高度 */
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        /* 自定义滚动条样式 */
        scrollbar-width: thin;
        scrollbar-color: var(--gray-300) var(--gray-100);
    }

    /* WebKit 滚动条样式 */
    .camera-table-section .table-container::-webkit-scrollbar {
        width: 8px;
    }

    .camera-table-section .table-container::-webkit-scrollbar-track {
        background: var(--gray-100);
        border-radius: 4px;
    }

    .camera-table-section .table-container::-webkit-scrollbar-thumb {
        background: var(--gray-300);
        border-radius: 4px;
    }

    .camera-table-section .table-container::-webkit-scrollbar-thumb:hover {
        background: var(--gray-400);
    }

    /* 表格头部固定 */
    .camera-table-section .table {
        margin: 0;
    }

    .camera-table-section .table thead th {
        position: sticky;
        top: 0;
        background: var(--white);
        z-index: 10;
        border-bottom: 2px solid var(--gray-200);
        box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.1);
    }
}

/* 区域配置页面专用布局 */
.region-layout {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    height: calc(100vh - 180px);
    /* 固定高度，确保左右一致 */
}

.region-sidebar-section {
    width: 100%;
}

.region-canvas-section {
    width: 100%;
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* 大屏幕下的双栏布局 */
@media (min-width: 1280px) {
    .region-layout {
        flex-direction: row;
        align-items: stretch;
        gap: var(--space-6);
    }

    .region-sidebar-section {
        width: 380px;
        flex-shrink: 0;
        overflow-y: auto;
        height: 100%;
        /* 与父容器高度一致 */
    }

    .region-canvas-section {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        height: 100%;
        /* 与父容器高度一致 */
    }

    /* 画布卡片占满高度 */
    .region-canvas-section .card {
        flex: 1;
        display: flex;
        flex-direction: column;
        height: 100%;
        /* 明确设置高度 */
    }

    /* 画布容器适应高度 */
    .region-canvas-section canvas {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
    
    /* 画布容器父元素适应 */
    .region-canvas-section .flex-1 {
        flex: 1;
        min-height: 500px;
        /* 确保最小高度 */
    }
}

/* 区域配置页面增强样式 */
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--primary-300) var(--gray-100);
}

.custom-scrollbar::-webkit-scrollbar {
    width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: var(--gray-100);
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--primary-300);
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--primary-400);
}

/* 画布状态指示器动画 */
#canvasStatus {
    transition: all 0.3s ease;
    backdrop-filter: blur(4px);
}

#canvasStatus:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* 渐变背景增强 */
.bg-primary-light {
    background: linear-gradient(135deg, var(--primary-50), var(--primary-100));
}

.border-primary-200 {
    border-color: var(--primary-200);
}

.text-primary-800 {
    color: var(--primary-800);
}

/* 响应式网格优化 */
@media (max-width: 1023px) {
    .region-layout {
        gap: var(--space-4);
    }

    .region-sidebar-section {
        max-height: none;
    }

    .grid.grid-cols-1.lg\:grid-cols-2 {
        grid-template-columns: 1fr;
    }
}