behavior_recognition:
  confidence_threshold: 0.6
  hairnet_min_duration: 1.0
  hairnet_stability_frames: 5
  handwashing_max_duration: 60.0
  handwashing_min_duration: 0.0
  handwashing_stability_frames: 1
  history_maxlen: 30
  max_num_hands: 2
  min_detection_confidence: 0.5
  min_tracking_confidence: 0.5
  sanitizing_max_duration: 30.0
  sanitizing_min_duration: 0.0
  sanitizing_stability_frames: 1
  use_advanced_detection: true
  use_mediapipe: true
  use_ml_classifier: true
  ml_model_path: models/handwash_xgb_tmp.joblib
  ml_window: 30
  ml_fusion_alpha: 0.5
hairnet_detection:
  confidence_boost_factor: 1.2
  confidence_threshold: 0.6
  contour_area_threshold: 50
  device: auto
  edge_density_threshold: 0.006
  input_size:
    - 224
    - 224
  light_blue_ratio_threshold: 0.001
  light_color_ratio_threshold: 0.003
  min_contour_count: 2
  model_path: null
  sensitive_edge_threshold: 0.008
  total_score_threshold: 0.8
  upper_edge_density_threshold: 0.008
  upper_region_ratio: 0.4
  white_ratio_threshold: 0.002
human_detection:
  confidence_threshold: 0.25
  device: auto
  iou_threshold: 0.5
  max_box_ratio: 6.0
  max_detections: 10
  min_box_area: 500
  min_height: 50
  min_width: 25
  model_path: models/yolo/yolov8n.pt
  nms_threshold: 0.4
detection_rules:
  consecutive_frames: 30            # 连续满足条件帧数阈值
  horizontal_move_std: 8.0          # 手腕水平坐标标准差阈值 (像素)
  min_move_frequency_hz: 2.0        # 水平移动最小频率 (Hz)
  iou_threshold: 0.5                # ROI IoU 阈值
  ioua_threshold: 0.5               # ROI IOUA 阈值
system:
  api_timeout: 30.0
  batch_size: 1
  cache_size: 100
  cache_ttl: 300
  debug_mode: false
  enable_cache: true
  log_level: INFO
  max_request_size: 10485760
  max_workers: 4

# --- 新增：自适应档位与运行期配置（基础 + profiles 覆盖） ---
inference:
  profile: fast

runtime:
  frame_skip: 1
  osd_minimal: true
  log_interval: 120

cascade:
  enable: false
  heavy_weights: null
  trigger_confidence_range: null  # 例如: [0.4, 0.6]
  trigger_roi: null               # 例如: [[x1,y1],[x2,y2],...]

profiles:
  fast: {}
  balanced:
    human_detection:
      model_path: models/yolo/yolov8s.pt
      confidence_threshold: 0.5
    runtime:
      frame_skip: 0
  accurate:
    human_detection:
      model_path: models/yolo/yolov8m.pt
      max_detections: 20
    runtime:
      osd_minimal: false
    cascade:
      enable: true
      heavy_weights: models/yolo/yolov8l.pt
      trigger_confidence_range: [0.4, 0.6]
