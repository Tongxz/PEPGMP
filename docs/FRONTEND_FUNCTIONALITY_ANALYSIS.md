# å‰ç«¯åŠŸèƒ½åˆ†æä¸æ”¹è¿›å»ºè®®

## ğŸ“‹ ç›®å½•
1. [ç°æœ‰åŠŸèƒ½åˆ†æ](#ç°æœ‰åŠŸèƒ½åˆ†æ)
2. [éœ€è¦å®Œå–„çš„åŠŸèƒ½](#éœ€è¦å®Œå–„çš„åŠŸèƒ½)
3. [éœ€è¦å¢åŠ çš„åŠŸèƒ½](#éœ€è¦å¢åŠ çš„åŠŸèƒ½)
4. [æ¶æ„åˆè§„æ€§æ£€æŸ¥](#æ¶æ„åˆè§„æ€§æ£€æŸ¥)
5. [å®ç°ä¼˜å…ˆçº§](#å®ç°ä¼˜å…ˆçº§)

---

## 1. ç°æœ‰åŠŸèƒ½åˆ†æ

### 1.1 é¡µé¢åŠŸèƒ½

#### âœ… å·²å®ç°é¡µé¢

1. **é¦–é¡µ (Home.vue)**
   - âœ… æ™ºèƒ½æ£€æµ‹é¢æ¿å±•ç¤º
   - âœ… ç³»ç»Ÿå¥åº·æ£€æŸ¥
   - âœ… ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹
   - âœ… å¿«æ·å¯¼èˆªå¡ç‰‡

2. **æ‘„åƒå¤´é…ç½® (CameraConfig.vue)**
   - âœ… æ‘„åƒå¤´åˆ—è¡¨å±•ç¤º
   - âœ… æ‘„åƒå¤´å¢åˆ æ”¹æŸ¥
   - âœ… æ‘„åƒå¤´å¯ç”¨/ç¦ç”¨
   - âœ… æ‘„åƒå¤´å¯åŠ¨/åœæ­¢
   - âœ… æ‘„åƒå¤´çŠ¶æ€ç›‘æ§ï¼ˆWebSocketï¼‰
   - âœ… æ‘„åƒå¤´ç»Ÿè®¡ä¿¡æ¯æŸ¥çœ‹

3. **åŒºåŸŸé…ç½® (RegionConfig.vue)**
   - âœ… åŒºåŸŸåˆ—è¡¨å±•ç¤º
   - âœ… åŒºåŸŸç»˜åˆ¶å’Œç¼–è¾‘
   - âœ… åŒºåŸŸå¯ç”¨/ç¦ç”¨
   - âœ… åŒºåŸŸç±»å‹ç®¡ç†

4. **ç»Ÿè®¡åˆ†æ (Statistics.vue)**
   - âœ… ç»Ÿè®¡æ‘˜è¦å±•ç¤º
   - âœ… æ—¶é—´èŒƒå›´ç­›é€‰
   - âœ… æ‘„åƒå¤´ç­›é€‰
   - âš ï¸ äº‹ä»¶ç±»å‹åˆ†å¸ƒå›¾è¡¨ï¼ˆéƒ¨åˆ†å®ç°ï¼‰
   - âš ï¸ æ¯æ—¥ç»Ÿè®¡è¶‹åŠ¿ï¼ˆéƒ¨åˆ†å®ç°ï¼‰

5. **æ£€æµ‹è®°å½• (DetectionRecords.vue)**
   - âœ… æ£€æµ‹è®°å½•åˆ—è¡¨
   - âœ… è¿è§„è®°å½•æŸ¥è¯¢
   - âœ… æ‘„åƒå¤´ç­›é€‰
   - âœ… è¿è§„çŠ¶æ€ç­›é€‰
   - âš ï¸ åˆ†é¡µåŠŸèƒ½ï¼ˆéƒ¨åˆ†å®ç°ï¼Œå›ºå®šlimitï¼‰
   - âš ï¸ æ—¶é—´èŒƒå›´ç­›é€‰ï¼ˆæœªå®ç°ï¼‰
   - âš ï¸ è¯¦æƒ…æŸ¥çœ‹ï¼ˆæœªå®ç°ï¼‰

6. **å‘Šè­¦ä¸­å¿ƒ (Alerts.vue)**
   - âœ… å†å²å‘Šè­¦åˆ—è¡¨
   - âœ… å‘Šè­¦è§„åˆ™åˆ—è¡¨
   - âœ… å‘Šè­¦è§„åˆ™åˆ›å»º
   - âœ… å‘Šè­¦è§„åˆ™æ›´æ–°
   - âš ï¸ å‘Šè­¦è§„åˆ™åˆ é™¤ï¼ˆæœªå®ç°ï¼‰
   - âš ï¸ å‘Šè­¦è¯¦æƒ…æŸ¥çœ‹ï¼ˆæœªå®ç°ï¼‰
   - âš ï¸ å‘Šè­¦å¤„ç†çŠ¶æ€æ›´æ–°ï¼ˆæœªå®ç°ï¼‰

7. **ç³»ç»Ÿä¿¡æ¯ (SystemInfo.vue)**
   - âœ… ç³»ç»ŸåŸºæœ¬ä¿¡æ¯å±•ç¤º
   - âœ… ç³»ç»Ÿé…ç½®æŸ¥çœ‹

8. **MLOpsç®¡ç† (MLOpsManagementNew.vue)**
   - âœ… æ•°æ®é›†ç®¡ç†ï¼ˆUIï¼‰
   - âœ… æ¨¡å‹éƒ¨ç½²ï¼ˆUIï¼‰
   - âœ… å·¥ä½œæµç®¡ç†ï¼ˆUIï¼‰
   - âŒ åç«¯APIå¯¹æ¥ï¼ˆæœªå®ç°ï¼‰

---

## 2. éœ€è¦å®Œå–„çš„åŠŸèƒ½

### 2.1 ç»Ÿè®¡åˆ†æé¡µé¢ (Statistics.vue)

#### ğŸ”´ é«˜ä¼˜å…ˆçº§

1. **å®æ—¶ç»Ÿè®¡æ•°æ®å±•ç¤º**
   - âŒ ç¼ºå°‘å®æ—¶ç»Ÿè®¡APIè°ƒç”¨
   - åç«¯æœ‰ `/statistics/realtime` æ¥å£ï¼Œå‰ç«¯æœªä½¿ç”¨
   - å»ºè®®ï¼šæ·»åŠ å®æ—¶ç»Ÿè®¡å¡ç‰‡ï¼Œæ”¯æŒè‡ªåŠ¨åˆ·æ–°

2. **äº‹ä»¶å†å²åˆ—è¡¨**
   - âŒ ç¼ºå°‘äº‹ä»¶å†å²åˆ—è¡¨å±•ç¤º
   - åç«¯æœ‰ `/statistics/history` æ¥å£ï¼Œå‰ç«¯æœªä½¿ç”¨
   - å»ºè®®ï¼šæ·»åŠ äº‹ä»¶å†å²è¡¨æ ¼ï¼Œæ”¯æŒç­›é€‰å’Œåˆ†é¡µ

3. **å›¾è¡¨æ•°æ®åŠ è½½**
   - âš ï¸ å›¾è¡¨ç»„ä»¶å·²å®ç°ï¼Œä½†æ•°æ®è·å–å¯èƒ½ä¸å®Œæ•´
   - æ£€æŸ¥ `/statistics/chart` APIè°ƒç”¨
   - å»ºè®®ï¼šç¡®ä¿å›¾è¡¨æ•°æ®æ ¼å¼æ­£ç¡®

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

4. **æ—¶é—´èŒƒå›´ç­›é€‰ä¼˜åŒ–**
   - âš ï¸ å½“å‰åªæ”¯æŒé¢„è®¾æ—¶é—´èŒƒå›´ï¼ˆ1h, 24h, 7dï¼‰
   - å»ºè®®ï¼šæ·»åŠ è‡ªå®šä¹‰æ—¶é—´èŒƒå›´é€‰æ‹©å™¨

5. **æ•°æ®å¯¼å‡ºåŠŸèƒ½**
   - âš ï¸ APIå·²å®šä¹‰ï¼Œä½†UIå¯èƒ½æœªå®ç°
   - æ£€æŸ¥ `/statistics/export` è°ƒç”¨
   - å»ºè®®ï¼šæ·»åŠ å¯¼å‡ºæŒ‰é’®ï¼Œæ”¯æŒCSV/Excelå¯¼å‡º

### 2.2 æ£€æµ‹è®°å½•é¡µé¢ (DetectionRecords.vue)

#### ğŸ”´ é«˜ä¼˜å…ˆçº§

1. **åˆ†é¡µåŠŸèƒ½å®Œå–„**
   - âš ï¸ å½“å‰å›ºå®š `limit: 100, offset: 0`
   - å»ºè®®ï¼šå®ç°å®Œæ•´åˆ†é¡µï¼Œæ”¯æŒé¡µç å’Œæ¯é¡µæ•°é‡é€‰æ‹©

2. **æ—¶é—´èŒƒå›´ç­›é€‰**
   - âŒ ç¼ºå°‘æ—¶é—´èŒƒå›´ç­›é€‰åŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´é€‰æ‹©å™¨

3. **è®°å½•è¯¦æƒ…æŸ¥çœ‹**
   - âŒ ç¼ºå°‘æ£€æµ‹è®°å½•è¯¦æƒ…å¼¹çª—
   - å»ºè®®ï¼šç‚¹å‡»è®°å½•å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼ˆå¯¹è±¡åˆ—è¡¨ã€ç½®ä¿¡åº¦ã€è¾¹ç•Œæ¡†ç­‰ï¼‰

4. **è¿è§„è®°å½•çŠ¶æ€æ›´æ–°**
   - âš ï¸ åç«¯æœ‰ `PUT /records/violations/{violation_id}/status` æ¥å£
   - å»ºè®®ï¼šåœ¨è¿è§„è®°å½•è¡¨æ ¼ä¸­æ·»åŠ çŠ¶æ€æ›´æ–°æ“ä½œæŒ‰é’®

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

5. **æ‰¹é‡æ“ä½œ**
   - âŒ ç¼ºå°‘æ‰¹é‡æ ‡è®°å·²å¤„ç†åŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ å¤é€‰æ¡†ï¼Œæ”¯æŒæ‰¹é‡æ›´æ–°çŠ¶æ€

6. **è®°å½•ç­›é€‰å¢å¼º**
   - âš ï¸ å½“å‰åªæ”¯æŒæ‘„åƒå¤´ã€çŠ¶æ€ã€ç±»å‹ç­›é€‰
   - å»ºè®®ï¼šæ·»åŠ ç½®ä¿¡åº¦èŒƒå›´ã€å¯¹è±¡ç±»å‹ç­‰ç­›é€‰

7. **æ•°æ®å¯¼å‡º**
   - âŒ ç¼ºå°‘æ£€æµ‹è®°å½•å¯¼å‡ºåŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ å¯¼å‡ºæŒ‰é’®ï¼Œæ”¯æŒCSV/Excelå¯¼å‡º

### 2.3 å‘Šè­¦ä¸­å¿ƒé¡µé¢ (Alerts.vue)

#### ğŸ”´ é«˜ä¼˜å…ˆçº§

1. **å‘Šè­¦è§„åˆ™åˆ é™¤**
   - âŒ åç«¯æ¥å£å¯èƒ½æœªå®ç°æˆ–å‰ç«¯æœªè°ƒç”¨
   - å»ºè®®ï¼šæ·»åŠ åˆ é™¤æŒ‰é’®ï¼Œè°ƒç”¨ `DELETE /alerts/rules/{rule_id}`

2. **å‘Šè­¦è¯¦æƒ…æŸ¥çœ‹**
   - âŒ ç¼ºå°‘å‘Šè­¦è¯¦æƒ…å¼¹çª—
   - å»ºè®®ï¼šç‚¹å‡»å‘Šè­¦å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼ˆè§„åˆ™ã€æ¶ˆæ¯ã€è¯¦æƒ…ç­‰ï¼‰

3. **å‘Šè­¦å¤„ç†çŠ¶æ€æ›´æ–°**
   - âŒ ç¼ºå°‘å‘Šè­¦å¤„ç†æ ‡è®°åŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ "å·²å¤„ç†"æ ‡è®°æŒ‰é’®

4. **å‘Šè­¦è§„åˆ™ç¼–è¾‘UI**
   - âš ï¸ å½“å‰å¯èƒ½åªæœ‰åˆ—è¡¨å±•ç¤º
   - å»ºè®®ï¼šæ·»åŠ ç¼–è¾‘è¡¨å•å¼¹çª—ï¼Œæ”¯æŒä¿®æ”¹è§„åˆ™å‚æ•°

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

5. **å‘Šè­¦è§„åˆ™æµ‹è¯•**
   - âŒ ç¼ºå°‘è§„åˆ™æµ‹è¯•åŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ "æµ‹è¯•è§„åˆ™"æŒ‰é’®ï¼Œé¢„è§ˆè§¦å‘æ¡ä»¶

6. **å‘Šè­¦é€šçŸ¥æ¸ é“é…ç½®**
   - âŒ ç¼ºå°‘é€šçŸ¥æ¸ é“é…ç½®UI
   - å»ºè®®ï¼šåœ¨è§„åˆ™ç¼–è¾‘ä¸­æ·»åŠ é€šçŸ¥æ¸ é“é€‰æ‹©

7. **å‘Šè­¦ç»Ÿè®¡**
   - âŒ ç¼ºå°‘å‘Šè­¦ç»Ÿè®¡ä¿¡æ¯ï¼ˆæŒ‰ç±»å‹ã€æŒ‰æ‘„åƒå¤´ç­‰ï¼‰
   - å»ºè®®ï¼šæ·»åŠ ç»Ÿè®¡å¡ç‰‡å’Œå›¾è¡¨

### 2.4 æ‘„åƒå¤´é…ç½®é¡µé¢ (CameraConfig.vue)

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

1. **æ‘„åƒå¤´æ—¥å¿—å®æ—¶æŸ¥çœ‹**
   - âš ï¸ åç«¯æœ‰ `/cameras/{id}/logs` æ¥å£
   - å»ºè®®ï¼šæ·»åŠ æ—¥å¿—æŸ¥çœ‹å¼¹çª—ï¼Œæ”¯æŒå®æ—¶åˆ·æ–°å’Œè¿‡æ»¤

2. **æ‘„åƒå¤´æ€§èƒ½ç›‘æ§**
   - âš ï¸ ç»Ÿè®¡ä¿¡æ¯å±•ç¤ºå¯èƒ½ä¸å¤Ÿè¯¦ç»†
   - å»ºè®®ï¼šæ·»åŠ æ€§èƒ½å›¾è¡¨ï¼ˆFPSã€å»¶è¿Ÿã€å†…å­˜ä½¿ç”¨ç­‰ï¼‰

3. **æ‰¹é‡æ“ä½œ**
   - âŒ ç¼ºå°‘æ‰¹é‡å¯ç”¨/ç¦ç”¨ã€æ‰¹é‡å¯åŠ¨/åœæ­¢åŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ å¤é€‰æ¡†ï¼Œæ”¯æŒæ‰¹é‡æ“ä½œ

### 2.5 åŒºåŸŸé…ç½®é¡µé¢ (RegionConfig.vue)

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

1. **åŒºåŸŸç»Ÿè®¡ä¿¡æ¯**
   - âš ï¸ åç«¯æœ‰ `/management/regions/{id}/stats` æ¥å£
   - å»ºè®®ï¼šæ·»åŠ åŒºåŸŸç»Ÿè®¡ä¿¡æ¯å±•ç¤º

2. **åŒºåŸŸå¯¼å…¥å¯¼å‡º**
   - âŒ ç¼ºå°‘åŒºåŸŸé…ç½®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
   - å»ºè®®ï¼šæ·»åŠ å¯¼å…¥/å¯¼å‡ºæŒ‰é’®ï¼Œæ”¯æŒJSONæ ¼å¼

---

## 3. éœ€è¦å¢åŠ çš„åŠŸèƒ½

### 3.1 æ•°æ®å¯è§†åŒ–å¢å¼º

#### ğŸ”´ é«˜ä¼˜å…ˆçº§

1. **å®æ—¶ç›‘æ§å¤§å±**
   - âŒ ç¼ºå°‘å®æ—¶ç›‘æ§å¤§å±é¡µé¢
   - å»ºè®®ï¼š
     - å¤šæ‘„åƒå¤´å®æ—¶ç”»é¢å±•ç¤º
     - å®æ—¶æ£€æµ‹ç»“æœå åŠ æ˜¾ç¤º
     - å®æ—¶ç»Ÿè®¡å¡ç‰‡
     - WebSocketå®æ—¶æ•°æ®æ›´æ–°

2. **è¶‹åŠ¿åˆ†æå›¾è¡¨**
   - âŒ ç¼ºå°‘è¶‹åŠ¿åˆ†æé¡µé¢
   - å»ºè®®ï¼š
     - æ—¶é—´åºåˆ—å›¾è¡¨ï¼ˆæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ï¼‰
     - å¯¹æ¯”åˆ†æï¼ˆä¸åŒæ‘„åƒå¤´ã€ä¸åŒæ—¶é—´æ®µï¼‰
     - çƒ­åŠ›å›¾ï¼ˆæŒ‰æ—¶é—´æ®µã€æŒ‰åŒºåŸŸï¼‰

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

3. **æ•°æ®æŠ¥è¡¨ç”Ÿæˆ**
   - âŒ ç¼ºå°‘æŠ¥è¡¨ç”ŸæˆåŠŸèƒ½
   - å»ºè®®ï¼š
     - æ—¥æŠ¥ã€å‘¨æŠ¥ã€æœˆæŠ¥è‡ªåŠ¨ç”Ÿæˆ
     - PDFå¯¼å‡º
     - è‡ªå®šä¹‰æŠ¥è¡¨æ¨¡æ¿

### 3.2 ç”¨æˆ·äº¤äº’å¢å¼º

#### ğŸ”´ é«˜ä¼˜å…ˆçº§

1. **æœç´¢åŠŸèƒ½**
   - âŒ å…¨å±€æœç´¢åŠŸèƒ½ç¼ºå¤±
   - å»ºè®®ï¼š
     - æœç´¢æ£€æµ‹è®°å½•ã€å‘Šè­¦ã€æ‘„åƒå¤´ç­‰
     - æ”¯æŒå…¨æ–‡æœç´¢
     - æœç´¢å†å²è®°å½•

2. **å¿«æ·æ“ä½œé¢æ¿**
   - âŒ ç¼ºå°‘å¿«æ·æ“ä½œé¢æ¿
   - å»ºè®®ï¼š
     - å¸¸ç”¨æ“ä½œå¿«æ·æŒ‰é’®
     - è‡ªå®šä¹‰å¿«æ·æ“ä½œ
     - å¿«æ·é”®æ”¯æŒ

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

3. **æ•°æ®å¯¹æ¯”åŠŸèƒ½**
   - âŒ ç¼ºå°‘æ•°æ®å¯¹æ¯”åŠŸèƒ½
   - å»ºè®®ï¼š
     - å¤šæ‘„åƒå¤´æ•°æ®å¯¹æ¯”
     - ä¸åŒæ—¶é—´æ®µæ•°æ®å¯¹æ¯”
     - å¯¹æ¯”å›¾è¡¨å±•ç¤º

4. **æ”¶è—å’Œä¹¦ç­¾**
   - âŒ ç¼ºå°‘æ”¶è—åŠŸèƒ½
   - å»ºè®®ï¼š
     - æ”¶è—å¸¸ç”¨æ‘„åƒå¤´ã€åŒºåŸŸ
     - ä¹¦ç­¾ä¿å­˜æŸ¥è¯¢æ¡ä»¶

### 3.3 ç³»ç»Ÿç®¡ç†åŠŸèƒ½

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

1. **ç”¨æˆ·æƒé™ç®¡ç†**
   - âŒ ç¼ºå°‘ç”¨æˆ·ç®¡ç†åŠŸèƒ½
   - å»ºè®®ï¼š
     - ç”¨æˆ·åˆ—è¡¨ã€è§’è‰²ç®¡ç†
     - æƒé™åˆ†é…
     - æ“ä½œæ—¥å¿—å®¡è®¡

2. **ç³»ç»Ÿé…ç½®ç®¡ç†**
   - âš ï¸ ç³»ç»Ÿé…ç½®æŸ¥çœ‹å·²æœ‰ï¼Œä½†ç¼ºå°‘ç¼–è¾‘åŠŸèƒ½
   - å»ºè®®ï¼š
     - ç³»ç»Ÿå‚æ•°é…ç½®UI
     - é…ç½®ä¿®æ”¹å†å²
     - é…ç½®å¯¼å…¥å¯¼å‡º

3. **æ•°æ®å¤‡ä»½ä¸æ¢å¤**
   - âŒ ç¼ºå°‘æ•°æ®å¤‡ä»½åŠŸèƒ½
   - å»ºè®®ï¼š
     - æ‰‹åŠ¨å¤‡ä»½
     - è‡ªåŠ¨å¤‡ä»½ç­–ç•¥
     - å¤‡ä»½æ¢å¤

### 3.4 é«˜çº§åŠŸèƒ½

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§

1. **æ™ºèƒ½åˆ†æ**
   - âŒ ç¼ºå°‘æ™ºèƒ½åˆ†æåŠŸèƒ½
   - å»ºè®®ï¼š
     - å¼‚å¸¸æ£€æµ‹é¢„è­¦
     - è¶‹åŠ¿é¢„æµ‹
     - æ™ºèƒ½æ¨è

2. **å‘Šè­¦è”åŠ¨**
   - âŒ ç¼ºå°‘å‘Šè­¦è”åŠ¨é…ç½®
   - å»ºè®®ï¼š
     - å‘Šè­¦è§¦å‘åŠ¨ä½œé…ç½®
     - è‡ªåŠ¨åŒ–å¤„ç†æµç¨‹
     - è”åŠ¨è§„åˆ™ç®¡ç†

3. **APIé›†æˆ**
   - âŒ ç¼ºå°‘ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆåŠŸèƒ½
   - å»ºè®®ï¼š
     - Webhooké…ç½®
     - ç¬¬ä¸‰æ–¹APIå¯¹æ¥
     - æ•°æ®åŒæ­¥

---

## 4. æ¶æ„åˆè§„æ€§æ£€æŸ¥

### 4.1 APIè°ƒç”¨æ£€æŸ¥

#### âœ… ç¬¦åˆæ¶æ„çš„è°ƒç”¨

1. **Statistics API**
   - âœ… ä½¿ç”¨ `/statistics/summary` - ç¬¦åˆæ¶æ„
   - âœ… ä½¿ç”¨ `/statistics/daily` - ç¬¦åˆæ¶æ„
   - âœ… ä½¿ç”¨ `/statistics/events` - ç¬¦åˆæ¶æ„

2. **Alerts API**
   - âœ… ä½¿ç”¨ `/alerts/history-db` - ç¬¦åˆæ¶æ„
   - âœ… ä½¿ç”¨ `/alerts/rules` - ç¬¦åˆæ¶æ„
   - âœ… POST/PUTæ“ä½œ - ç¬¦åˆæ¶æ„

3. **Records API**
   - âœ… ä½¿ç”¨ `/records/violations` - ç¬¦åˆæ¶æ„
   - âœ… ä½¿ç”¨ `/records/detection-records/{camera_id}` - ç¬¦åˆæ¶æ„
   - âœ… ä½¿ç”¨ `/records/statistics/{camera_id}` - ç¬¦åˆæ¶æ„

#### âš ï¸ éœ€è¦æ£€æŸ¥çš„è°ƒç”¨

1. **Camera API**
   - âš ï¸ æ£€æŸ¥ `/cameras` ç›¸å…³æ¥å£æ˜¯å¦ç¬¦åˆæœ€æ–°æ¶æ„
   - å»ºè®®ï¼šç¡®è®¤ä½¿ç”¨é¢†åŸŸæœåŠ¡ï¼Œæ— å›é€€é€»è¾‘

2. **Region API**
   - âš ï¸ æ£€æŸ¥ `/management/regions` ç›¸å…³æ¥å£æ˜¯å¦ç¬¦åˆæœ€æ–°æ¶æ„
   - å»ºè®®ï¼šç¡®è®¤ä½¿ç”¨é¢†åŸŸæœåŠ¡ï¼Œæ— å›é€€é€»è¾‘

### 4.2 é”™è¯¯å¤„ç†æ£€æŸ¥

#### âš ï¸ éœ€è¦å®Œå–„

1. **ç»Ÿä¸€é”™è¯¯å¤„ç†**
   - âš ï¸ å„é¡µé¢é”™è¯¯å¤„ç†å¯èƒ½ä¸ä¸€è‡´
   - å»ºè®®ï¼š
     - ç»Ÿä¸€ä½¿ç”¨ HTTP 503/500 é”™è¯¯ç å¤„ç†
     - æ·»åŠ å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶
     - å‹å¥½çš„é”™è¯¯æç¤ºUI

2. **æœåŠ¡ä¸å¯ç”¨å¤„ç†**
   - âš ï¸ ç¼ºå°‘æœåŠ¡ä¸å¯ç”¨æ—¶çš„å‹å¥½æç¤º
   - å»ºè®®ï¼š
     - æ£€æµ‹æœåŠ¡çŠ¶æ€
     - æ˜¾ç¤ºæœåŠ¡çŠ¶æ€æŒ‡ç¤ºå™¨
     - é‡è¯•æœºåˆ¶

### 4.3 æ•°æ®æ ¼å¼æ£€æŸ¥

#### âš ï¸ éœ€è¦éªŒè¯

1. **å“åº”æ•°æ®æ ¼å¼**
   - âš ï¸ éœ€è¦ç¡®ä¿å‰ç«¯æœŸæœ›çš„æ•°æ®æ ¼å¼ä¸åç«¯è¿”å›ä¸€è‡´
   - å»ºè®®ï¼š
     - æ·»åŠ TypeScriptç±»å‹å®šä¹‰
     - æ•°æ®éªŒè¯å’Œè½¬æ¢
     - å‘åå…¼å®¹å¤„ç†

2. **æ—¥æœŸæ—¶é—´æ ¼å¼**
   - âš ï¸ éœ€è¦ç»Ÿä¸€æ—¥æœŸæ—¶é—´æ ¼å¼ï¼ˆISO 8601ï¼‰
   - å»ºè®®ï¼š
     - ä½¿ç”¨ç»Ÿä¸€çš„æ—¥æœŸæ ¼å¼åŒ–å·¥å…·
     - æ—¶åŒºå¤„ç†

---

## 5. å®ç°ä¼˜å…ˆçº§

### ğŸ”´ P0 - ç«‹å³å®ç°ï¼ˆæ ¸å¿ƒåŠŸèƒ½å®Œå–„ï¼‰

1. âœ… **ç»Ÿè®¡åˆ†æé¡µé¢**
   - å®æ—¶ç»Ÿè®¡æ•°æ®å±•ç¤º
   - äº‹ä»¶å†å²åˆ—è¡¨
   - å›¾è¡¨æ•°æ®å®Œæ•´æ€§éªŒè¯

2. âœ… **æ£€æµ‹è®°å½•é¡µé¢**
   - åˆ†é¡µåŠŸèƒ½å®Œå–„
   - æ—¶é—´èŒƒå›´ç­›é€‰
   - è®°å½•è¯¦æƒ…æŸ¥çœ‹
   - è¿è§„è®°å½•çŠ¶æ€æ›´æ–°

3. âœ… **å‘Šè­¦ä¸­å¿ƒé¡µé¢**
   - å‘Šè­¦è§„åˆ™åˆ é™¤
   - å‘Šè­¦è¯¦æƒ…æŸ¥çœ‹
   - å‘Šè­¦å¤„ç†çŠ¶æ€æ›´æ–°

### ğŸŸ¡ P1 - çŸ­æœŸå®ç°ï¼ˆç”¨æˆ·ä½“éªŒæå‡ï¼‰

1. **å®æ—¶ç›‘æ§å¤§å±**
   - å¤šæ‘„åƒå¤´å®æ—¶ç”»é¢
   - WebSocketå®æ—¶æ•°æ®æ›´æ–°

2. **æœç´¢åŠŸèƒ½**
   - å…¨å±€æœç´¢
   - æœç´¢å†å²

3. **æ•°æ®å¯¼å‡º**
   - æ£€æµ‹è®°å½•å¯¼å‡º
   - ç»Ÿè®¡æ•°æ®å¯¼å‡º

4. **æ‰¹é‡æ“ä½œ**
   - æ‘„åƒå¤´æ‰¹é‡æ“ä½œ
   - è¿è§„è®°å½•æ‰¹é‡å¤„ç†

### ğŸŸ¢ P2 - é•¿æœŸå®ç°ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰

1. **æ•°æ®å¯è§†åŒ–å¢å¼º**
   - è¶‹åŠ¿åˆ†æå›¾è¡¨
   - æ•°æ®æŠ¥è¡¨ç”Ÿæˆ

2. **ç³»ç»Ÿç®¡ç†åŠŸèƒ½**
   - ç”¨æˆ·æƒé™ç®¡ç†
   - ç³»ç»Ÿé…ç½®ç®¡ç†
   - æ•°æ®å¤‡ä»½ä¸æ¢å¤

3. **é«˜çº§åŠŸèƒ½**
   - æ™ºèƒ½åˆ†æ
   - å‘Šè­¦è”åŠ¨
   - APIé›†æˆ

---

## 6. æŠ€æœ¯å®ç°å»ºè®®

### 6.1 APIè°ƒç”¨è§„èŒƒ

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ç»Ÿä¸€çš„APIå®¢æˆ·ç«¯
import { http } from '@/lib/http'
import { useMessage } from 'naive-ui'

// ç»Ÿä¸€é”™è¯¯å¤„ç†
async function fetchData() {
  try {
    const response = await http.get('/api/endpoint')
    return response.data
  } catch (error: any) {
    if (error.response?.status === 503) {
      message.error('æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•')
    } else {
      message.error(error.response?.data?.detail || 'è¯·æ±‚å¤±è´¥')
    }
    throw error
  }
}
```

### 6.2 çŠ¶æ€ç®¡ç†è§„èŒƒ

```typescript
// âœ… æ¨èï¼šä½¿ç”¨Pinia Storeç®¡ç†çŠ¶æ€
import { defineStore } from 'pinia'

export const useDataStore = defineStore('data', () => {
  const data = ref([])
  const loading = ref(false)
  const error = ref<string | null>(null)

  async function fetchData() {
    loading.value = true
    error.value = null
    try {
      data.value = await api.getData()
    } catch (e: any) {
      error.value = e.message
      throw e
    } finally {
      loading.value = false
    }
  }

  return { data, loading, error, fetchData }
})
```

### 6.3 ç»„ä»¶è®¾è®¡è§„èŒƒ

```vue
<!-- âœ… æ¨èï¼šç»„ä»¶åŒ–è®¾è®¡ï¼ŒèŒè´£å•ä¸€ -->
<template>
  <DataTable
    :columns="columns"
    :data="data"
    :loading="loading"
    :pagination="pagination"
    @page-change="handlePageChange"
    @refresh="handleRefresh"
  />
</template>

<script setup lang="ts">
// ä½¿ç”¨ç»„åˆå¼APIï¼Œé€»è¾‘æ¸…æ™°
const { data, loading, error, fetchData } = useDataStore()
// ...
</script>
```

---

## 7. æ€»ç»“

### ç°æœ‰åŠŸèƒ½çŠ¶æ€
- âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼ˆæ‘„åƒå¤´ã€åŒºåŸŸã€ç»Ÿè®¡ã€è®°å½•ã€å‘Šè­¦ï¼‰
- âš ï¸ éƒ¨åˆ†åŠŸèƒ½éœ€è¦å®Œå–„ï¼ˆåˆ†é¡µã€ç­›é€‰ã€è¯¦æƒ…æŸ¥çœ‹ï¼‰
- âŒ éƒ¨åˆ†é«˜çº§åŠŸèƒ½ç¼ºå¤±ï¼ˆå®æ—¶å¤§å±ã€æœç´¢ã€æ‰¹é‡æ“ä½œï¼‰

### æ¶æ„åˆè§„æ€§
- âœ… APIè°ƒç”¨åŸºæœ¬ç¬¦åˆæœ€æ–°æ¶æ„
- âš ï¸ é”™è¯¯å¤„ç†éœ€è¦ç»Ÿä¸€å’Œå¢å¼º
- âš ï¸ æ•°æ®æ ¼å¼éªŒè¯éœ€è¦åŠ å¼º

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨
1. **ç«‹å³ä¿®å¤P0é—®é¢˜**ï¼šå®Œå–„æ ¸å¿ƒåŠŸèƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
2. **å®ç°P1åŠŸèƒ½**ï¼šæ·»åŠ å®æ—¶ç›‘æ§ã€æœç´¢ç­‰å…³é”®åŠŸèƒ½
3. **è§„åˆ’P2åŠŸèƒ½**ï¼šä¸ºé«˜çº§åŠŸèƒ½åšå‡†å¤‡

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2024-11-05
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
