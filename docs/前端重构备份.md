# 前端重构备份文档

## 概述
本文档记录了在Vue 3 + Vite重构过程中，从旧静态HTML前端中提取的重要功能和代码片段，以备将来参考或重新实现。

## 重要功能模块

### 1. 区域配置管理 (region_config.js)
- **文件位置**: `frontend/region_config.js`
- **主要功能**:
  - 可视化区域绘制和编辑
  - 支持多种区域类型（入口、工作区、限制区等）
  - 画布坐标转换和缩放
  - 区域数据的保存和加载
- **核心类**: `RegionConfigManager`
- **重要特性**:
  - 支持多边形区域绘制
  - 顶点编辑功能
  - 区域颜色配置
  - 背景图片适配

### 2. 导航系统 (nav.js)
- **文件位置**: `frontend/nav.js`
- **主要功能**:
  - 统一的页面导航
  - 响应式菜单
  - 页面状态管理

### 3. 样式系统
- **common.css**: 通用样式定义
- **nav.css**: 导航栏样式
- **theme.css**: 主题色彩配置

## 静态页面功能

### 1. 摄像头配置页面 (camera_config.html)
- 摄像头参数设置
- 实时预览功能
- 配置保存和加载

### 2. 统计页面 (statistics.html)
- 数据可视化图表
- 统计报表生成
- 历史数据查询

### 3. 系统信息页面 (system_info.html)
- 系统状态监控
- 硬件信息显示
- 性能指标展示

## 开发和测试页面

### dev/ 目录
- `debug_frontend.html`: 前端调试工具
- `region_test.html`: 区域功能测试
- `yolo_test.html`: YOLO模型测试

### optimized/ 目录
- 优化后的静态资源
- 压缩的CSS和JS文件

## 重要代码片段

### 区域配置核心逻辑
```javascript
// 坐标转换函数
getCanvasCoordinates(event) {
    const rect = this.canvas.getBoundingClientRect();
    const mouseX = event.clientX - rect.left;
    const mouseY = event.clientY - rect.top;

    const scaleX = this.canvas.width / rect.width;
    const scaleY = this.canvas.height / rect.height;
    const x = Math.round(mouseX * scaleX);
    const y = Math.round(mouseY * scaleY);

    return { x, y };
}

// 区域颜色配置
colors: {
    entrance: '#52C41A',    // 成功绿
    work_area: '#3A7AFE',   // 品牌蓝
    restricted: '#FF4D4F',  // 危险红
    monitoring: '#FAAD14',  // 警告橙
    custom: '#722ED1'       // 强调紫
}
```

## 迁移建议

### 优先级高的功能
1. **区域配置管理**: 核心业务功能，需要在Vue应用中重新实现
2. **摄像头配置**: 设备管理的重要组成部分
3. **统计和监控**: 数据展示功能

### 可以废弃的功能
1. 旧的导航系统（已被Vue Router替代）
2. 静态的系统信息页面（已有Vue版本）
3. 开发测试页面（可用现代开发工具替代）

## 技术债务清理

### 需要移除的文件
- 所有静态HTML文件（除index.vite.html）
- 旧的CSS和JS资源文件
- 开发测试页面
- 优化后的静态资源

### 需要保留的文件
- package.json 和相关配置
- src/ 目录下的Vue应用代码
- Vite和TypeScript配置文件

## 注意事项
1. 在删除文件前，确保所有重要功能都已在Vue应用中实现
2. 保留此备份文档作为功能参考
3. 考虑将区域配置功能作为Vue组件重新实现
4. 确保API接口兼容性不受影响

---
*备份时间: 2024年*
*重构版本: Vue 3 + Vite*
